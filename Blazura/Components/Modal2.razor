@implements IDisposable

@code {
    [Parameter]
    public required RenderFragment ChildContent { get; set; }

    [CascadingParameter]
    private Modal2Manager? manager { get; set; }

    public void Open()
    {
        manager?.Open(ChildContent);
    }

    public void Dispose()
    {
        manager?.Remove(ChildContent);
    }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (manager is not null)
        {
            await manager.TriggerRender();
        }
        await base.OnAfterRenderAsync(firstRender);
    }
}
